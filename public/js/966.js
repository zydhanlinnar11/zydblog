"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[966],{9918:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(){function e(e,t,n){this.user_id=e,this.name=t,this.user_name=n}return e.prototype.getId=function(){return this.user_id},e.prototype.getName=function(){return this.name},e.prototype.getUserName=function(){return this.user_name},e}()},7966:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(5893),o=n(7294),u=n(9918),a=n(2745),i=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function a(e){try{c(r.next(e))}catch(e){u(e)}}function i(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};const s=function(){var e=new u.Z("","",""),t=(0,o.useState)((function(){return e})),n=(t[0],t[1]);return(0,o.useEffect)((function(){i(void 0,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,(new a.Z).getAuthenticatedUser()];case 1:return(e=t.sent())&&n(e),window.open("/login","_self"),console.log(e),[2]}}))}))}),[]),(0,r.jsx)("div",{},void 0)}},2745:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(9918),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function a(e){try{c(r.next(e))}catch(e){u(e)}}function i(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}c((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};const a=function(){function e(){}return e.prototype.getUser=function(e,t){return o(this,void 0,void 0,(function(){var n,o;return u(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,fetch("/api/user/"+e)];case 1:if(!(n=u.sent()).ok)throw new Error("Error");return[4,n.json()];case 2:return o=u.sent(),t(new r.Z(e,o.name,o.username)),[3,4];case 3:return u.sent(),t(void 0),console.error("APIv2UserService.getUser(): Unable to fetch data from API"),[3,4];case 4:return[2]}}))}))},e.prototype.getAuthenticatedUser=function(){return o(this,void 0,void 0,(function(){var e,t,n;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("/api/user",{headers:{Authorization:"Bearer "+localStorage.getItem("token"),Accept:"application/json"}})];case 1:return[4,(e=o.sent()).json()];case 2:return t=o.sent(),401==e.status?[2,null]:[2,new r.Z(t.id,t.name,t.username)];case 3:return n=o.sent(),console.error(n),[2,null];case 4:return[2]}}))}))},e}()}}]);